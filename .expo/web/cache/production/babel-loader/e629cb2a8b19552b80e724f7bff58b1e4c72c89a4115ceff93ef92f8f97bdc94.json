{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useState}from\"react\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Alert from\"react-native-web/dist/exports/Alert\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import styles from\"./App.styles\";import ImageMultipleChoiceQuestion from\"./src/components/ImageMultipleChoiceQuestion/ImageMultipleChoiceQuestion\";import OpenEndedQuestion from\"./src/components/OpenEndedQuestion\";import questions from\"./assets/data/allQuestions\";import Header from\"./src/components/Header\";import AsyncStorage from\"@react-native-async-storage/async-storage\";import TextInput from\"react-native-web/dist/exports/TextInput\";import FillInTheBlank from\"./src/components/FillInTheBlank/FillInTheBlank\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(questions.length),_useState2=_slicedToArray(_useState,2),lives=_useState2[0],setLives=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),hasLoaded=_useState4[0],setHasLoaded=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),currentQuestionIndex=_useState6[0],setCurrentQuestionIndex=_useState6[1];var _useState7=useState(questions[currentQuestionIndex]),_useState8=_slicedToArray(_useState7,2),currentQuestion=_useState8[0],setCurrentQuestion=_useState8[1];useEffect(function(){if(currentQuestionIndex>=questions.length){Alert.alert(\"You won\");setCurrentQuestionIndex(0);}else{setCurrentQuestion(questions[currentQuestionIndex]);}},[currentQuestionIndex]);var onCorrect=function onCorrect(){setCurrentQuestionIndex(currentQuestionIndex+1);};var restart=function restart(){setLives(questions.length);setCurrentQuestionIndex(0);};var onWrong=function onWrong(){if(lives<=1){Alert.alert(\"Game over\",\"Try again\",[{text:\"Try again\",onPress:restart}]);}else{Alert.alert(\"Wrong\");setLives(lives-1);}};useEffect(function(){loadData();},[]);useEffect(function(){if(hasLoaded){saveData();}},[lives,currentQuestionIndex,hasLoaded]);var saveData=function(){var _ref=_asyncToGenerator(function*(){yield AsyncStorage.setItem(\"lives\",lives.toString());yield AsyncStorage.setItem(\"currentQuestionIndex\",currentQuestionIndex.toString());});return function saveData(){return _ref.apply(this,arguments);};}();var loadData=function(){var _ref2=_asyncToGenerator(function*(){var loadedLives=yield AsyncStorage.getItem(\"lives\");if(loadedLives){setLives(parseInt(loadedLives));}var currentQuestionIndex=yield AsyncStorage.getItem(\"currentQuestionIndex\");if(currentQuestionIndex){setCurrentQuestionIndex(parseInt(currentQuestionIndex));}setHasLoaded(true);});return function loadData(){return _ref2.apply(this,arguments);};}();if(!hasLoaded){return _jsx(ActivityIndicator,{});}return _jsxs(View,{style:styles.root,children:[_jsx(Header,{progress:currentQuestionIndex/questions.length,lives:lives}),currentQuestion.type===\"FILL_IN_THE_BLANK\"?_jsx(FillInTheBlank,{question:currentQuestion,onCorrect:onCorrect,onWrong:onWrong}):null]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Text","View","Image","StyleSheet","Alert","ActivityIndicator","styles","ImageMultipleChoiceQuestion","OpenEndedQuestion","questions","Header","AsyncStorage","TextInput","FillInTheBlank","jsx","_jsx","jsxs","_jsxs","App","_useState","length","_useState2","_slicedToArray","lives","setLives","_useState3","_useState4","hasLoaded","setHasLoaded","_useState5","_useState6","currentQuestionIndex","setCurrentQuestionIndex","_useState7","_useState8","currentQuestion","setCurrentQuestion","alert","onCorrect","restart","onWrong","text","onPress","loadData","saveData","_ref","_asyncToGenerator","setItem","toString","apply","arguments","_ref2","loadedLives","getItem","parseInt","style","root","children","progress","type","question"],"sources":["C:/Users/Dell/projects/Duolingo/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Text,\n  View,\n  Image,\n  StyleSheet,\n  Alert,\n  ActivityIndicator,\n} from \"react-native\";\nimport styles from \"./App.styles\";\nimport ImageMultipleChoiceQuestion from \"./src/components/ImageMultipleChoiceQuestion/ImageMultipleChoiceQuestion\";\nimport OpenEndedQuestion from \"./src/components/OpenEndedQuestion\";\nimport questions from \"./assets/data/allQuestions\";\nimport Header from \"./src/components/Header\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { TextInput } from \"react-native\";\nimport FillInTheBlank from \"./src/components/FillInTheBlank/FillInTheBlank\";\n\nfunction App() {\n  const [lives, setLives] = useState(questions.length);\n  const [hasLoaded, setHasLoaded] = useState(false);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [currentQuestion, setCurrentQuestion] = useState(\n    questions[currentQuestionIndex]\n  );\n  useEffect(() => {\n    if (currentQuestionIndex >= questions.length) {\n      Alert.alert(\"You won\");\n      setCurrentQuestionIndex(0);\n    } else {\n      setCurrentQuestion(questions[currentQuestionIndex]);\n    }\n  }, [currentQuestionIndex]);\n\n  const onCorrect = () => {\n    setCurrentQuestionIndex(currentQuestionIndex + 1);\n  };\n\n  const restart = () => {\n    setLives(questions.length);\n    setCurrentQuestionIndex(0);\n  };\n\n  const onWrong = () => {\n    if (lives <= 1) {\n      Alert.alert(\"Game over\", \"Try again\", [\n        {\n          text: \"Try again\",\n          onPress: restart,\n        },\n      ]);\n    } else {\n      Alert.alert(\"Wrong\");\n      setLives(lives - 1);\n    }\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  useEffect(() => {\n    if (hasLoaded) {\n      saveData();\n    }\n  }, [lives, currentQuestionIndex, hasLoaded]);\n\n  const saveData = async () => {\n    await AsyncStorage.setItem(\"lives\", lives.toString());\n    await AsyncStorage.setItem(\n      \"currentQuestionIndex\",\n      currentQuestionIndex.toString()\n    );\n  };\n\n  const loadData = async () => {\n    const loadedLives = await AsyncStorage.getItem(\"lives\");\n    if (loadedLives) {\n      setLives(parseInt(loadedLives));\n    }\n    const currentQuestionIndex = await AsyncStorage.getItem(\n      \"currentQuestionIndex\"\n    );\n    if (currentQuestionIndex) {\n      setCurrentQuestionIndex(parseInt(currentQuestionIndex));\n    }\n    setHasLoaded(true);\n  };\n\n  if (!hasLoaded) {\n    return <ActivityIndicator />;\n  }\n  return (\n    <View style={styles.root}>\n      <Header\n        progress={currentQuestionIndex / questions.length}\n        lives={lives}\n      />\n      {/* {currentQuestion.type === \"IMAGE_MULTIPLE_CHOICE\" ? (\n        <ImageMultipleChoiceQuestion\n          question={currentQuestion}\n          onCorrect={onCorrect}\n          onWrong={onWrong}\n        />\n      ) : null}\n      {currentQuestion.type === \"OPEN_ENDED\" ? (\n        <OpenEndedQuestion\n          question={currentQuestion}\n          onCorrect={onCorrect}\n          onWrong={onWrong}\n        />\n      ) : null} */}\n      {currentQuestion.type === \"FILL_IN_THE_BLANK\" ? (\n        <FillInTheBlank\n          question={currentQuestion}\n          onCorrect={onCorrect}\n          onWrong={onWrong}\n        />\n      ) : null}\n    </View>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}